## Chapter09 안정성 핵심 요소 reliability ##
### QUIZ ###

**1. 한 달에 가동 중지 시간을 30분으로 유지하는 데 필요한 최소 가용성 수준은 무엇입니까?**

    C.99.95%

    - 99.95% 가용성은 한달에 약 22분. 1년에 4시간 23분의 가동 중지 시간을 의미한다. 
    - 가용성 99.999%는 한달에 30초  미만의 가동 중지 시간을 의미한다.
    - 99.9% 한달에 43분 이상의 가동 중지시간을 의미한다.
    - 99%는 한달에 7시간 이상을 의미한다.

**2. 한 가용 영역에 있는 EC2 인스턴스 두 개에서 애플리케이션을 실행합니다. Elastic Load Balancer는 사용자 트래픽을 정상 인스턴스에 고르게 분산 시킵니다. 각 인스턴스의 애플리케이션은 하나의 RDS 데이터베이스 인스턴스에 연결되어 있습니다.각 EC2 인스턴스의 가용성이 99%이고 RDS 인스턴스의 가용성이 99%라고 가정하면 전체 애플리케이션의 가용성은 얼마입니까? **

    A. 98.99%

    - !()["https://docs.aws.amazon.com/ko_kr/wellarchitected/latest/reliability-pillar/availability.html"]
    - 가용성 계산 법을 보면 종속성이 약한 EC2는 100% -(1% * 1%) = 99.99%
    - 종속성이 강한 RDS는 99%
    - 99.99% * 99% = 98.99% 

**3. 회사에서 AWS에서 실행할 새로운 애플리케이션을 설계하고 있습니다. 개발자가 모든 리전에서 제대로 작동할 수 있는 데이터베이스를 추천해 달라고 요청합니다. 최대 가용성을 위해 어떤 데이터베이스를 추천해야 합니까?**

    B. DynamoDB

    - DynamoDB는 글로벌 테이블을 사용해 (99.999%)까지도 가용성을 유지할 수도 있다.
    - AZ RDS(오로라)를 사용하면 지연속도 감소를 할 수 있지만, 가용성은 99.5%정도라고 한다.

**4. 다음 중 웹 애플리케이션의 가용성을 높이는 데 도움이 되는 것은 무엇입니까?**

    B. 애플리케이션의 최대 부하를 처리하기에 충분히 큰 인스턴스 클래스를 사용한다.
    D. 인스턴스를 확장 조정한다.

    -  리소스 소살이 애플리케이션 장애의 원인이 되므로, 큰 용량으로 인스턴스를 지정해서 리소스가 여유 있도록 인스턴스를 확장해서 장애를 피해야 한다.

**5. 시작 구성을 사용해서 EC2 Auto Scaling 그룹을 구성해서 여러 인스턴스에 애플리케이션을 설치하고 프로비저닝 합니다. 추가 애플리케이션을 설치한 새로운 인스턴스로 Auto Scaling 그룹을 재구성해야 합니다. 다음 중 수행해야 할 일은 무엇입니까?**

    B. 시작 템플릿을 생성하고 이를 사용하도록 Auto Scaling 그룹을 구성한다.


**7. 다음 중 Auto Scaling 이 인스턴스 상태 검사에 사용하는 것은 무엇입니까?**

    A. ELB 상태검사
    D. EC2 시스템 검사
    E. EC2 인스턴스 검사

    - Auto Scaling은 Route53 상태검사를 지원하지 않는다.

**8. 애플리케이션은 매월 1일에 트래픽이 급증합니다. ㅍ트래픽이 급증하기 전에 인스턴스를 추가하고 각 인스턴스의 CPU 사용률에 비례해서 인스턴스를 추가하도록 Auto Scaling을 구성하려고 합니다. 다음 중 구현해야 하는 것은 무엇입니까?**

    B. 예약된 작업
    C. 단계 조정 정책

    - 예약된 작업은 일정에 따라 최소 크기, 최대 크기, 목표용량을 조정 할 수 있다.
    - 그룹 전체 CPU 사용률에 비례해서 인스턴스를 추가하려면 단계 조정 정책을 구현해야 한다.



**13. VPC에 서브넷을 만들 떄 향후 추가할 서브넷 용으로 VPC에 충분한 여유 공간을 남겨 두는 이유는 무엇입니까?**

    A. 애플리케이션에 다른 티어를 추가해야 할 수도 있다.
    C. AWS는 때때로 리전에 가용 영역을 추가한다.


**17. AWS에서 독립 실행형 Linux 애플리케이션을 실행할 계획이며 99% 가용성이 필요합니다. 애플리케이션에는 데이터베이스가 필요하지 않으며 소수 사용자만 애플리케이션에 엑세스 할 것입니다. 떄때로 인스턴스를 종료하고 다른 AMI로 다시 만들어야 합니다. 다음 중 무엇을 사용해야 합니까?**

    A. CloudFormation
    C. 사용자 데이터

    - 클라우드 포메이션 Infrastructure as a code IAAC 선언적  코드로 인프라제어 ex) Terraform
    - 스크립트 등을 추가해서 자동화 가능

**18. 서비스가 정상적으로 작동하려면 한 리전에서 8개 인스턴스가 동시에 실행되야 합니다. 리전에 3개의 가용영역을 사용할 수 있다고 할 때, 한 가용 영역에 장애가 있어도 서비스가 중단되지 않게 하려면 각 가용 영역마다 실행돼야 하는 최소 인스턴스 수는 몇 개 입니까?**

    D. 4

    - 가용영역당 4개면 12개여서 한 가용영역이 장애나도 최소 8개다.

**19. 연간 애플리케이션이 가동 중지 시간이 45분이면 대략적인 가용성은 얼마입니까?**

    C.99.99%

    - 99.99%는 연간 약 52분의 가동 중지시간 범위를 의미한다.

**20. 두 리전에서 애플리케이션을 실행하고 다중 AZ RDS를 사용해서 두 리전 모두에 읽기 전용 복제본을 뒀습니다. 사용자는 브라우저에서 Elastic Load Balancer로 향하는 퍼블릭 도메인 이름을 사용해서 한 리전의 애플리 케이션에 엑세스 합니다. 해당 리전에 장애가 발생하면 다른 리전으로 장애 조치하기 위해 수행해야 하는 작업으 다음 중 무엇입니까?**

    A. 다른 리전의 로드밸런서로 향하도록 DNS레코드를 업데이트 한다.
    C. 다른 리전의 데이터베이스로 장애 조치한다.



